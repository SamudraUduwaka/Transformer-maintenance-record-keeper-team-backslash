spring.application.name=transformer-api

# MySQL
spring.datasource.url=jdbc:mysql://127.0.0.1:3306/transformer_db?createDatabaseIfNotExist=true&useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Colombo
spring.datasource.username=root
spring.datasource.password=Thisara@123
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Make schema.sql and data.sql run
spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
# Either remove this line or change to MySQLDialect (warning you saw)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Colombo

# Ensure every new DB connection sets the session time zone (affects NOW(), etc.)
spring.datasource.hikari.connectionInitSql=SET time_zone = '+05:30'

server.port=8080


# Enable real inference
inference.real.enabled=true

# Python execution (adjust to your venv python if needed)
inference.python=python


# Absolute paths recommended (forward slashes ok on Windows)
inference.script.path=C:/Transformer-maintenance-record-keeper-team-backslash/anomaly-detector/Fault Detection v11-2/seg_infer_and_label_5c.py
inference.weights.path=C:/Transformer-maintenance-record-keeper-team-backslash/anomaly-detector/Fault Detection v11/runs_yolo/tx_seg_5c_v11_cpu2/weights/best.pt
inference.temp.dir=C:/Transformer-maintenance-record-keeper-team-backslash/anomaly-detector/inference-uploads
inference.keep.artifacts=false

# Persist each real inference (prediction + detections) to DB (tables: prediction, prediction_detection)
# Set to true to enable database persistence of results
inference.persist.enabled=true

# Model retraining configuration
inference.training.enabled=true
inference.training.script.path=C:/Transformer-maintenance-record-keeper-team-backslash/anomaly-detector/Fault Detection v11-2/finetune.py
inference.training.dataset.path=C:/Transformer-maintenance-record-keeper-team-backslash/anomaly-detector/Dataset
inference.training.output.path=C:/Transformer-maintenance-record-keeper-team-backslash/anomaly-detector/Fault Detection v11-2/combined_dataset

# Training parameters
inference.training.batch-size=8
inference.training.epochs=20
inference.training.device=cpu
inference.training.min-samples=64
inference.training.check-interval=8h